# -*- coding: utf-8 -*-
from netaddr import IPNetwork
import click


@click.command()
@click.argument('cidr')
@click.option('--seperator', '-s', default=',', help='List seperator.')
@click.option('--file', '-f', help='txt file output path.')
@click.option('--range', '-r', help='output as range.')
def main(cidr, seperator, file, range):
    """
    Convert CIDR to list of IPs
    """
    ip = IPNetwork(cidr)
    string = seperator.join([str(i) for i in ip])
    if range:
        string = '{}-{}'.format(ip[0], ip[-1])
    if file:
        with open(file, 'w') as f:
            f.write(string)
    else:
        click.echo(string)
